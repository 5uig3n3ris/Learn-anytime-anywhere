<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-language English Learning Platform</title>
  <style>
    :root {
      --primary: #0a9396;
      --secondary: #005f73;
      --bg: #f8f9fa;
      --card: #ffffff;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html[dir="rtl"] {
      direction: rtl;
      text-align: right;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--bg);
      color: #333;
      overflow-x: hidden;
    }
    header, footer {
      background-color: var(--secondary);
      color: white;
      text-align: center;
      padding: 1rem;
      animation: fadeIn 1s ease-out forwards;
    }
    .language-switch {
      position: absolute;
      top: 1rem;
      right: 1rem;
    }
    .language-switch select {
      padding: 0.4rem;
      border-radius: 4px;
      border: none;
      font-weight: bold;
    }
    .container {
      max-width: 960px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: var(--card);
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      animation: slideUp 1s ease-out forwards;
    }
    section {
      margin: 2rem 0;
      animation: fadeInSlide 1s ease forwards;
    }
    h2 {
      color: var(--primary);
      margin-bottom: 1rem;
    }
    iframe, audio {
      width: 100%;
      border-radius: 10px;
    }
    .flashcard-toggle {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .flashcard-toggle button {
      padding: 0.5rem 1rem;
      background-color: var(--primary);
      border: none;
      color: white;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .flashcard-toggle button:hover {
      background-color: #007f86;
    }
    .flashcard-set {
      display: none;
      transition: transform 0.3s ease;
    }
    .flashcard-set.active {
      display: block;
      transform: scale(1.02);
    }
    .btn {
      padding: 0.7rem 1.2rem;
      background-color: var(--primary);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      margin-top: 1rem;
    }
    .user-info input {
      margin: 0.5rem;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    progress {
      width: 100%;
      height: 1.2rem;
    }

    .cta-box {
      background-color: #e0f7fa;
      border-left: 5px solid var(--primary);
      padding: 1rem;
      margin: 2rem 0;
      border-radius: 8px;
      font-size: 1.1rem;
    }
    
    #referral-section {
    background-color: var(--card);
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    margin: 2rem 0;
  }

  #referral-section h2 {
    color: var(--primary);
    margin-bottom: 1rem;
  }

  #referral-section p {
    margin-bottom: 1rem;
  }

  .referral-link-container {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
  }

  .referral-link-container input {
    width: 70%;
    padding: 0.5rem;
    border-radius: 6px;
    border: 1px solid #ccc;
  }

  .referral-link-container button {
    padding: 0.5rem 1rem;
    background-color: var(--primary);
    border: none;
    color: white;
    border-radius: 6px;
    cursor: pointer;
  }

  .referral-link-container button:hover {
    background-color: #007f86;
  }

  .social-share-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .social-share-buttons button {
    padding: 0.5rem 1rem;
    background-color: var(--primary);
    border: none;
    color: white;
    border-radius: 6px;
    cursor: pointer;
    flex: 1;
    max-width: 150px;
    text-align: center;
  }

  .social-share-buttons button:hover {
    background-color: #007f86;
  }
    @keyframes fadeIn { to { opacity: 1; } }
    @keyframes slideUp { to { transform: translateY(0); opacity: 1; } }
    @keyframes fadeInSlide { to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>
  <header>
    <div class="language-switch">
      <select id="languageSelect" onchange="switchLanguage(this.value)">
        <option value="en">English</option>
        <option value="es">Espa√±ol</option>
        <option value="fr">Fran√ßais</option>
        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
        <option value="per">ŸÅÿßÿ±ÿ≥€å</option>
      </select>
    </div>
    <h1 data-i18n="headerTitle">English Learning Platform</h1>
    <p data-i18n="headerSubtitle">Master English at your own pace</p>
  </header>

  <div class="container">
    <div class="user-info">
      <input type="text" id="username" placeholder="Your name">
      <input type="email" id="useremail" placeholder="Your email">
      <button onclick="saveUserInfo()">Save Info</button>
    </div>

    <section>
      <h2 data-i18n="videoSection">üé¨ Videos</h2>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/l5urA25m248" frameborder="0" allowfullscreen></iframe>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/6kBCQpVUodw" frameborder="0" allowfullscreen></iframe>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/m6C3QX_5gVg" frameborder="0" allowfullscreen></iframe>
    </section>

    <section>
      <h2 data-i18n="audioSection">üéß Audio Player</h2>
      <audio controls>
        <source src="your-audio-file.mp3" type="audio/mpeg">
      </audio>
    </section>

    <section>
      <h2 data-i18n="flashcardSection">üß† Flashcards</h2>
      <button onclick="continueLast()">Continue where you left off</button>
      <div class="flashcard-toggle">
        <button onclick="showSet('set1')" data-i18n="vocabBtn">Vocabulary</button>
        <button onclick="showSet('set2')" data-i18n="grammarBtn">Grammar</button>
        <button onclick="showSet('set3')" data-i18n="gamesBtn">Phrasal Verbs</button>
      </div>
      <div id="set1" class="flashcard-set">
        <iframe id="iframe1" src="" height="400"></iframe>
      </div>
      <div id="set2" class="flashcard-set">
        <iframe id="iframe2" src="" height="400"></iframe>
      </div>
      <div id="set3" class="flashcard-set">
        <iframe id="iframe3" src="" height="400"></iframe>
      </div>
      <p><strong>Progress:</strong> <span id="progressBar">0%</span></p>
      <progress id="progressValue" value="0" max="100"></progress>
    </section>

    <section>
      <div class = "cta-box">
      <p data-i18n = "unlock"> Unlock the power of English with interactive flashcards and games. Whether you're learning for school, work, or travel, our tools help you build vocabulary and confidence ‚Äî anytime, anywhere.</p>
      <p data-i18n = "cta"><strong>Want to go even further?</strong> Join our English lessons and get personalized support to grow faster!</p>
    </section>
  </div>
    
    <section>
      <h2 data-i18n="paypalSection">üí≥ Pay with PayPal</h2>
      <a href="https://forms.gle/sbYfZaKBpKbV8ZDm8" class="btn">PayPal Button</a>
    </section>

    <section>
      <h2 data-i18n="bankSection">üè¶ Manual Payment</h2>
      <a href="https://forms.gle/LVwHoaffRTqDBnKA7" class="btn">Manual Payment Form</a>
    </section>

    <section>
      <h2>üì§ Export Data</h2>
      <button onclick="exportProgress()" class="btn">Download CSV</button>
    </section>
  </div>

  <section id="referral-section">
  <h2 data-i18n="referralTitle">Invite a Friend & Earn!</h2>
  <p data-i18n="referralDescription">Share your referral link with others and earn rewards when they sign up!</p>

  <!-- Referral Link -->
  <div class="referral-link-container">
    <input type="text" id="referralLink" value="https://www.yourwebsite.com?ref=USER_REF_CODE" readonly>
    <button onclick="copyReferralLink()">Copy Referral Link</button>
  </div>

  <!-- Social Media Share Buttons -->
  <div class="social-share-buttons">
    <button onclick="shareOnTelegram()">Share on Telegram</button>
    <button onclick="shareOnTwitter()">Share on Twitter</button>
    <button onclick="shareOnInstagram()">Share on Instagram</button>
    <button onclick="shareOnWhatsApp()">Share on WhatsApp</button>
    <button onclick="shareOnTikTok()">Share on TikTok</button>
  </div>
  </section>

  <footer>
    <p data-i18n="footer">&copy; 2025 English Learning Platform</p>
  </footer>

  <script>
    const flashcardSets = {
      en: ["https://wordwall.net/embed/91c1ff1717b44c78bdd8a41e17dd4758?","https://quizlet.com/1032827913/spell/embed?i=6j1bx3&x=1jj1","https://quizlet.com/1062371698/match/embed?i=6j1bx3&x=1jj1"],
      es: ["https://quizlet.com/es-vocab/embed","https://wordwall.net/es/embed/91c1ff1717b44c78bdd8a41e17dd4758?themeId=52&templateId=3&fontStackId=0","https://quizlet.com/1062371698/match/embed?i=6j1bx3&x=1jj1"],
      fr: ["https://quizlet.com/fr-vocab/embed","https://wordwall.net/es/embed/91c1ff1717b44c78bdd8a41e17dd4758?themeId=52&templateId=3&fontStackId=0","https://quizlet.com/1062371698/match/embed?i=6j1bx3&x=1jj1"],
      ar: ["https://quizlet.com/ar-vocab/embed","https://wordwall.net/ar/embed/91c1ff1717b44c78bdd8a41e17dd4758?","https://quizlet.com/1062371698/match/embed?i=6j1bx3&x=1jj1"],
      per:["https://wordwall.net/embed/91c1ff1717b44c78bdd8a41e17dd4758?", "https://quizlet.com/1062371698/match/embed?i=6j1bx3&x=1jj1"]
    };

    const translations = {
      en: { headerTitle: "English Learning Platform", headerSubtitle: "Master English at your own pace", videoSection: "üé¨ Videos", audioSection: "üéß Audio Player", flashcardSection: "üß† Flashcards", paypalSection: "üí≥ Pay with PayPal", bankSection: "üè¶ Manual Payment", footer: "¬© 2025 English Learning Platform", vocabBtn: "Vocabulary", grammarBtn: "Grammar", gamesBtn: "Games", 
           unlock: "Unlock the power of English with interactive flashcards and games. Whether you're learning for school, work, or travel, our tools help you build vocabulary and confidence ‚Äî anytime, anywhere.", cta: "Want to go even further? Join our English lessons and get personalized support to grow faster!", referralTitle: "refer a friend", referralDescription: "Share your referral link with others and earn a free lesson when they sign up!"},
      es: { headerTitle: "Plataforma de Aprendizaje de Ingl√©s", headerSubtitle: "Domina el ingl√©s a tu ritmo", videoSection: "üé¨ Video Integrado", audioSection: "üéß Reproductor de Audio", flashcardSection: "üß† Tarjetas de Memoria", paypalSection: "üí≥ Pagar con PayPal", bankSection: "üè¶ Pago Manual", footer: "¬© 2025 Plataforma de Ingl√©s", vocabBtn: "Vocabulario", grammarBtn: "Gram√°tica", gamesBtn: "Games", 
           unlock: " ", cta: " ", referralTitle: " ", referralDescription: " " },
      fr: { headerTitle: "Plateforme d'Apprentissage de l'Anglais", headerSubtitle: "Ma√Ætrisez l'anglais √† votre rythme", videoSection: "üé¨ Vid√©o Int√©gr√©e", audioSection: "üéß Lecteur Audio", flashcardSection: "üß† Cartes M√©moire", paypalSection: "üí≥ Payer avec PayPal", bankSection: "üè¶ Paiement Manuel", footer: "¬© 2025 Plateforme d'Anglais", vocabBtn: "Vocabulaire", grammarBtn: "Grammaire", gamesBtn: "Games", 
           unlock: " ", cta: " ", referralTitle: " ", referralDescription: " " },
      ar: { headerTitle: "ŸÖŸÜÿµÿ© ÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©", headerSubtitle: "ÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© ÿπŸÑŸâ Ÿàÿ™Ÿäÿ±ÿ™ŸÉ ÿßŸÑÿÆÿßÿµÿ©", videoSection: "üé¨ ŸÅŸäÿØŸäŸà ŸÖÿØŸÖÿ¨", audioSection: "üéß ŸÖÿ¥ÿ∫ŸÑ ÿßŸÑÿµŸàÿ™", flashcardSection: "üß† ÿ®ÿ∑ÿßŸÇÿßÿ™ ÿ™ÿπŸÑŸäŸÖŸäÿ©", paypalSection: "üí≥ ÿßŸÑÿØŸÅÿπ ÿπÿ®ÿ± ÿ®ÿßŸäÿ®ÿßŸÑ", bankSection: "üè¶ ÿßŸÑÿØŸÅÿπ ÿßŸÑŸäÿØŸàŸä", footer: "¬© 2025 ŸÖŸÜÿµÿ© ÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©", vocabBtn: "ÿßŸÑŸÖŸÅÿ±ÿØÿßÿ™", grammarBtn: "ÿßŸÑŸÇŸàÿßÿπÿØ", gamesBtn: "ŸÑÿπÿ®ÿ©", 
           unlock: " ", cta: " ", referralTitle: " ", referralDescription: " " },
      per:{ headerTitle: "ŸÖÿ±⁄©ÿ≤ €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿßŸÜ⁄ØŸÑ€åÿ≥€å", headerSubtitle: "€åÿßÿØ⁄Ø€åÿ±€å ÿ®ÿØŸàŸÜ ŸÖÿ±ÿ≤", videoSection: "üé¨ Ÿà€åÿØ€åŸàŸáÿß€å ÿ¢ŸÖŸàÿ≤ÿ¥€å", audioSection: "üéß ÿµŸàÿ™‚ÄåŸáÿß€å ÿ¢ŸÖŸàÿ≤ÿ¥€å", flashcardSection: "üß† Flashcards", paypalSection: "üí≥ Ÿæÿ±ÿØÿßÿÆÿ™ ÿßÿ≤ ÿ∑ÿ±€åŸÇ Ÿæ€å ŸæÿßŸÑ(PayPal)", bankSection: "üè¶ Ÿàÿßÿ±€åÿ≤ ÿ®Ÿá ÿ≠ÿ≥ÿßÿ® ÿ®ÿßŸÜ⁄©€å", footer: "¬© 2025 ŸÖÿ±⁄©ÿ≤ €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿßŸÜ⁄ØŸÑ€åÿ≥€å ", vocabBtn: "ŸÑÿ∫ÿßÿ™", grammarBtn: "⁄Øÿ±ÿßŸÖÿ±", gamesBtn: "ÿ®ÿßÿ≤Ÿâ",
          referralTitle: " ", referralDescription: " ", unlock: "...", cta : " "}
    };

    const shareMessages = {
    en: {
      telegram: "Join me on this amazing English learning platform! Use my referral link: ", twitter: "Check out this awesome platform for learning English! Use my referral link: ", instagram: "Join this fantastic platform for learning English! Here's my referral link: ", whatsapp: "Hey! Join me on this awesome English learning platform using my referral link: ", tiktok: "I'm using this great English learning platform! Check it out and use my referral link: ",
    },
    es: {
      telegram: "¬°√önete a m√≠ en esta incre√≠ble plataforma para aprender ingl√©s! Usa mi enlace de referencia: ", twitter: "¬°Mira esta incre√≠ble plataforma para aprender ingl√©s! Usa mi enlace de referencia: ", instagram: "¬°√önete a esta fant√°stica plataforma para aprender ingl√©s! Aqu√≠ est√° mi enlace de referencia: ", whatsapp: "¬°Oye! √önete a m√≠ en esta plataforma para aprender ingl√©s usando mi enlace de referencia: ",tiktok: "¬°Estoy usando esta gran plataforma para aprender ingl√©s! √âchale un vistazo y usa mi enlace de referencia: ",
    },
    fr: {
      telegram: "Rejoignez-moi sur cette plateforme g√©niale pour apprendre l'anglais! Utilisez mon lien de parrainage: ", twitter: "D√©couvrez cette super plateforme pour apprendre l'anglais! Utilisez mon lien de parrainage: ", instagram: "Rejoignez cette fantastique plateforme pour apprendre l'anglais! Voici mon lien de parrainage: ", whatsapp: "H√©! Rejoignez-moi sur cette plateforme g√©niale pour apprendre l'anglais avec mon lien de parrainage: ", tiktok: "J'utilise cette super plateforme pour apprendre l'anglais! D√©couvrez-la et utilisez mon lien de parrainage: ",
    },
    ar: {
      telegram: "ÿßŸÜÿ∂ŸÖ ÿ•ŸÑŸä ŸÅŸä Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿµÿ© ÿßŸÑÿ±ÿßÿ¶ÿπÿ© ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©! ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ•ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿßÿµ ÿ®Ÿä: ", twitter: "ÿßŸÉÿ™ÿ¥ŸÅ Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿµÿ© ÿßŸÑÿ±ÿßÿ¶ÿπÿ© ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©! ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ•ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿßÿµ ÿ®Ÿä: ", instagram: "ÿßŸÜÿ∂ŸÖ ÿ•ŸÑŸâ Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿµÿ© ÿßŸÑÿ±ÿßÿ¶ÿπÿ© ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©! ÿ•ŸÑŸäŸÉ ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ•ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿßÿµ ÿ®Ÿä: ", whatsapp: "ŸÖÿ±ÿ≠ÿ®ÿßŸã! ÿßŸÜÿ∂ŸÖ ÿ•ŸÑŸä ŸÅŸä Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿµÿ© ÿßŸÑÿ±ÿßÿ¶ÿπÿ© ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ•ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿßÿµ ÿ®Ÿä: ", tiktok: "ÿ£ŸÜÿß ÿ£ÿ≥ÿ™ÿÆÿØŸÖ Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿµÿ© ÿßŸÑÿ±ÿßÿ¶ÿπÿ© ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©! ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜŸáÿß Ÿàÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ•ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿßÿµ ÿ®Ÿä: ",
    },
    per: {
      telegram: "ÿ®Ÿá ÿß€åŸÜ ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿπÿßŸÑ€å ÿ®ÿ±ÿß€å €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿßŸÜ⁄ØŸÑ€åÿ≥€å ÿ®Ÿæ€åŸàŸÜÿØ€åÿØ! ÿßÿ≤ ŸÑ€åŸÜ⁄© ÿßÿ±ÿ¨ÿßÿπ ŸÖŸÜ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ: ", twitter: "ÿß€åŸÜ ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿπÿßŸÑ€å ÿ®ÿ±ÿß€å €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿßŸÜ⁄ØŸÑ€åÿ≥€å ÿ±Ÿà ⁄Ü⁄© ⁄©ŸÜ€åÿØ! ÿßÿ≤ ŸÑ€åŸÜ⁄© ÿßÿ±ÿ¨ÿßÿπ ŸÖŸÜ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ: ",instagram: "ÿ®Ÿá ÿß€åŸÜ ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿπÿßŸÑ€å ÿ®ÿ±ÿß€å €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿßŸÜ⁄ØŸÑ€åÿ≥€å ÿ®Ÿæ€åŸàŸÜÿØ€åÿØ! ÿØÿ± ÿß€åŸÜÿ¨ÿß ŸÑ€åŸÜ⁄© ÿßÿ±ÿ¨ÿßÿπ ŸÖŸÜ ÿßÿ≥ÿ™: ",whatsapp: "ÿ≥ŸÑÿßŸÖ! ÿ®Ÿá ŸÖŸÜ ÿØÿ± ÿß€åŸÜ ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿπÿßŸÑ€å ÿ®ÿ±ÿß€å €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿßŸÜ⁄ØŸÑ€åÿ≥€å ÿ®Ÿæ€åŸàŸÜÿØ€åÿØ Ÿà ÿßÿ≤ ŸÑ€åŸÜ⁄© ÿßÿ±ÿ¨ÿßÿπ ŸÖŸÜ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ: ",tiktok: "ŸÖŸÜ ÿßÿ≤ ÿß€åŸÜ ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿπÿßŸÑ€å ÿ®ÿ±ÿß€å €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿßŸÜ⁄ØŸÑ€åÿ≥€å ÿßÿ≥ÿ™ŸÅÿßÿØŸá ŸÖ€å‚Äå⁄©ŸÜŸÖ! ÿ¢ŸÜ ÿ±ÿß ÿ®ÿ±ÿ±ÿ≥€å ⁄©ŸÜ€åÿØ Ÿà ÿßÿ≤ ŸÑ€åŸÜ⁄© ÿßÿ±ÿ¨ÿßÿπ ŸÖŸÜ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ: ",
    }
  };

    function switchLanguage(lang) {
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === ('ar' || 'per') ? 'rtl' : 'ltr';
      localStorage.setItem('preferredLang', lang);
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) el.innerText = translations[lang][key];
      });
      const sets = flashcardSets[lang];
      document.getElementById('iframe1').src = sets[0];
      document.getElementById('iframe2').src = sets[1];
      document.getElementById('iframe3').src = sets[2];
      const last = localStorage.getItem(`progress_${lang}`) || 'set1';
      showSet(last);
    }

    function showSet(id) {
      document.querySelectorAll('.flashcard-set').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      const lang = document.documentElement.lang;
      localStorage.setItem(`progress_${lang}`, id);
      updateProgressBar();
    }

    function continueLast() {
      const lang = document.documentElement.lang;
      const setId = localStorage.getItem(`progress_${lang}`) || 'set1';
      showSet(setId);
    }

    function updateProgressBar() {
      const lang = document.documentElement.lang;
      const sets = ['set1', 'set2', 'set3'];
      const current = localStorage.getItem(`progress_${lang}`);
      const index = sets.indexOf(current);
      const percent = Math.round(((index + 1) / sets.length) * 100);
      document.getElementById('progressBar').innerText = `${percent}%`;
      document.getElementById('progressValue').value = percent;
    }

    function saveUserInfo() {
      localStorage.setItem('userName', document.getElementById('username').value);
      localStorage.setItem('userEmail', document.getElementById('useremail').value);
      alert("Saved");
    }

    function exportProgress() {
      const lang = localStorage.getItem('preferredLang') || 'en';
      const name = localStorage.getItem('userName') || '';
      const email = localStorage.getItem('userEmail') || '';
      const flashcard = localStorage.getItem(`progress_${lang}`) || '';
      const csv = `Name,Email,Language,Flashcard Set\n${name},${email},${lang},${flashcard}`;
      const blob = new Blob([csv], { type: 'text/csv' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = `progress-${lang}.csv`;
      a.click();
    }

    // Generate a unique referral code (simple random code)
function generateReferralCode() {
  const code = `REF${Math.random().toString(36).substring(2, 8).toUpperCase()}`;
  localStorage.setItem('referralCode', code); // Store the referral code in localStorage
  return code;
}

// Get the referral code (either from localStorage or generate if not available)
function getReferralCode() {
  return localStorage.getItem('referralCode') || generateReferralCode();
}


  // Update the referral link dynamically based on the user's referral code
  function updateReferralLink() {
  const referralCode = getReferralCode();
  const referralLink = `https://www.yourwebsite.com?ref=${referralCode}`;
  document.getElementById('referralLink').value = referralLink;
  // Update social media share buttons with the referral link
  updateSocialShareLinks(referralCode);
  }
    
  function copyReferralLink() {
    const referralLink = document.getElementById('referralLink');
    referralLink.select();
    referralLink.setSelectionRange(0, 99999); // For mobile devices
    document.execCommand("copy");
    alert("Referral link copied to clipboard!");
  }

  function shareOnTelegram() {
    const referralCode = 'USER_REF_CODE'; // Replace with dynamic referral code
    const message = shareMessages[savedLang].telegram + `https://www.yourwebsite.com?ref=${referralCode}`;
    const url = `https://t.me/share/url?url=https://www.yourwebsite.com&text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  }

  function shareOnTwitter() {
    const referralCode = 'USER_REF_CODE'; // Replace with dynamic referral code
    const message = shareMessages[savedLang].twitter + `https://www.yourwebsite.com?ref=${referralCode}`;
    const url = `https://twitter.com/intent/tweet?url=https://www.yourwebsite.com&text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  }

  function shareOnInstagram() {
    const referralCode = 'USER_REF_CODE'; // Replace with dynamic referral code
    const message = shareMessages[savedLang].instagram + `https://www.yourwebsite.com?ref=${referralCode}`;
    const url = `https://www.instagram.com/?url=https://www.yourwebsite.com&text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  }

  function shareOnWhatsApp() {
    const referralCode = 'USER_REF_CODE'; // Replace with dynamic referral code
    const message = shareMessages[savedLang].whatsapp + `https://www.yourwebsite.com?ref=${referralCode}`;
    const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  }

    function shareOnTikTok() {
    const referralCode = 'USER_REF_CODE'; // Replace with dynamic referral code
    const message = shareMessages[savedLang].tiktok + `https://www.yourwebsite.com?ref=${referralCode}`;
    const url = `https://www.tiktok.com/share?url=https://www.yourwebsite.com&text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
    }
    

 /* 
 Alternatively
    function shareOnTikTok() {
    const referralCode = 'USER_REF_CODE'; // Replace with dynamic referral code
    const shareText = 'Check this out on TikTok! '; // Example share text
    const tiktokLink = `${shareText}https://www.yourwebsite.com?ref=${referralCode}`;

    // Set the onclick event for the share button with the alert
    document.getElementById('shareTikTok').setAttribute('onclick', `alert('Copy this link and share on TikTok: ${tiktokLink}')`);

    // Define the message with referral link for TikTok
    const message = `Check this out on TikTok! ${tiktokLink}`;
    const url = `https://www.tiktok.com/share?url=https://www.yourwebsite.com&text=${encodeURIComponent(message)}`;

    // Open TikTok share window
    window.open(url, '_blank');
}
*/


  // Set the current language dynamically (e.g., based on user selection or browser settings)
  function setLanguage(lang) {
    currentLang = lang;
    updateReferralLink(); // Recalculate the referral link when language changes
  }


    window.onload = () => {
      updateReferralLink();
      const savedLang = localStorage.getItem('preferredLang') || navigator.language.slice(0,2);
      if (!['en','es','fr','ar', 'per'].includes(savedLang)) savedLang = 'en';
      document.getElementById('languageSelect').value = savedLang;
      switchLanguage(savedLang);
      document.getElementById('username').value = localStorage.getItem('userName') || '';
      document.getElementById('useremail').value = localStorage.getItem('userEmail') || '';
    };
  </script>
</body>
</html>




<!--
Alternative way to dynamically insert the referral code.
<html lang="en" dir="ltr">

// Update the social media buttons dynamically based on the referral code
function updateSocialShareLinks(referralCode) {
  const shareText = shareMessages[currentLang];

  // Telegram
  const telegramLink = `https://t.me/share/url?url=https://www.yourwebsite.com&text=${encodeURIComponent(shareText + 'https://www.yourwebsite.com?ref=' + referralCode)}`;
  document.getElementById('shareTelegram').setAttribute('onclick', `window.open('${telegramLink}', '_blank')`);

  // Twitter
  const twitterLink = `https://twitter.com/intent/tweet?url=https://www.yourwebsite.com&text=${encodeURIComponent(shareText + 'https://www.yourwebsite.com?ref=' + referralCode)}`;
  document.getElementById('shareTwitter').setAttribute('onclick', `window.open('${twitterLink}', '_blank')`);

  // Instagram (Instagram does not support deep links directly, so we'll just show a message)
  const instagramLink = `${shareText}https://www.yourwebsite.com?ref=${referralCode}`;
  document.getElementById('shareInstagram').setAttribute('onclick', `alert('Copy this link and share on Instagram: ${instagramLink}')`);

  // WhatsApp
  const whatsappLink = `https://wa.me/?text=${encodeURIComponent(shareText + 'https://www.yourwebsite.com?ref=' + referralCode)}`;
  document.getElementById('shareWhatsApp').setAttribute('onclick', `window.open('${whatsappLink}', '_blank')`);

  // TikTok (similar to Instagram, you can't directly link but can show message)
  const tiktokLink = `${shareText}https://www.yourwebsite.com?ref=${referralCode}`;
  document.getElementById('shareTikTok').setAttribute('onclick', `alert('Copy this link and share on TikTok: ${tiktokLink}')`);
}


</script>

</body>
</html>
</-->
